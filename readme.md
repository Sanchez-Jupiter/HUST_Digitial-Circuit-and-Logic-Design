## 实验名称

交通灯系统设计。

## 实验目的

本实训将提供一个完整的数字逻辑实验包，从真值表方式构建7段数码管驱动电路，到逻辑表达式方式构建比较器，多路选择器，利用同步时序逻辑构建BCD计数器，最终集成实现为交通灯控制系统。 
实验由简到难，层次递进，从器件到部件，从部件到系统，通过本实验的设计、仿真、验证3个训练过程使同学们掌握小型数字电路系统的设计、仿真、调试方法以及电路模块封装的方法。

## 实验环境
软件：logisim-hust-20200118.exe软件一套。
平台：https://www.educoder.net/shixuns/g8vqp5xw/challenges

## 实验内容
某个主干道与次干道公路十字交叉路口，为确保人员、车辆安全、迅速地通过，在交叉路口的每个入口处设置了红、绿、黄三色信号灯。红灯禁止通行；绿灯允许通行；黄灯亮提醒行驶中的车辆减速通行。交通灯控制系统示意图如图1-1所示。
设计一个交通灯控制系统，具体内容及要求如下： 

（1）输入信号
输入信号包括高峰期信号H，主干道通行请求PCM，次干道通行请求PCC和总控制台控制信号Online。 

（2）输出信号
输出信号包括1个7段数码管显示数字，用于显示红灯、绿灯和黄灯的剩余时间； 6个Led灯，用于显示主干道和次干道的红灯、绿灯和黄灯。 
 

![alt text](<图1-1 交通灯控制系统示意图-1.png>) 
图1-1 交通灯控制系统示意图

（3）具体功能

a. 路口指示灯规则为：“红--绿--黄”循环；

b. 控制参数假设：红灯15秒，绿灯12秒，黄灯3秒；

c. 通行请求定义：主干道通行请求（PCM）包括：主干道方向有车辆信号和次干道有行人通过信号；次干道通行请求（PCC）包括：次干道方向有车辆信号和主干道有行人通过信号。

d. 通行规则1：主干道和次干道均无通行请求，主、次干道两边黄灯“闪亮”。提示：“通过时要注意观察”；

e. 通行规则2：主、次干道一边有通行请求，一边无通行请求，有通行请求一边绿灯亮，它的倒计时时间为16s，归0后重新开始倒计时。

f. 通行规则3：只有主干道有通行请求PCM，此时接收到次干道通行请求PCC，则在绿灯倒计时为0时，考虑次干道方向的车辆或行人通行；只有次干道有通行请求的情况类似。

g. 通行规则4：非高峰时期，主、次干道均有通行请求时，主、次干道交替通行。

h. 通行规则5：高峰时期，主、次干道均有通行请求时，主、次干道交替通行，主干道放行时间（绿灯时间+黄灯时间）加倍。

i. 通行规则6：由交通控制中心发出的总控制台控制信号（Online），当Online=1，本地交通灯控制器控制权“失效”，且主干道放行，次干道禁止通行、当Online=0本地交通灯控制器恢复控制权（接着原来的状态进行运行）。

## 实验要求
（1）根据给定的实验包，将交通灯控制系统切分为一个个实验单元；

（2）对每一个实验单元，按要求设计电路并使用Logisim软件进行虚拟仿真；

（3）设计好的电路在educoder平台上提交并进行评测，直到通过全部关卡。
